<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Copyright (c) Gon Y. Yi 2022 -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0">
    <meta name="theme-color" content="#37e">
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://gonn.org">
    <meta property="og:site_name" content="Gonn">
    <meta property="og:title" content="Gonn">
    <link rel="icon" type="image/svg+xml" href="https://gonn.org/favicon.svg">
    <link rel="apple-touch-icon" href="https://gonn.org/favicon.png" sizes="any">
    <link rel="alternate icon" href="https://gonn.org/favicon.ico">
    <title>Enc - Gonn</title>
    <style>
        <!--
        /* =============== BASE =============== */
        html {background:#fff; font-size: 8px;} 
        body {margin:0; padding:0 2rem; font-size: 3rem; font-family:"Times","Times New Roman",serif,sans-serif;} 
        header, section, div, footer {margin: 0rem 1rem; padding-bottom: 1rem; display: block;}
        footer {padding-top: 1rem; border-top:1px solid #777; color:#555; font-size:2rem;}
        p, h2 {margin: 0rem; padding: 1rem 0rem;}
        h2 {font-size:3rem; font-weight:500;}
        #DSYiM {stroke: white; stroke-width: 4; fill:red; background: red; height: 4rem; width: 4rem; padding: 3rem 1rem 1rem 1rem;}
        -->
    </style>

    <style>
        <!--
        /* =============== FORM =============== */
        label {font-size: 2rem; color: #555;}
        .btn, button, input, textarea {
          margin:0;
          border-radius: 1rem; border: .4rem solid #69e;
          font-size: 2rem; 
          padding: 1rem; outline: none;
          font-family: sans-serif;
        }
        .btn, button {background-color: #69e; color: #fff; display: inline-block;}
        .btn:hover, .btn:focus, .btn:active, button:hover, button:focus, button:active {
            border-color: #17f; background-color: #17f;color: #fff;}
        .btnRed {border-color: #f55; background-color: #f55;}
        .btnRed:hover, .btnRed:focus, .btnRed:active {border-color: #f00; background-color: #f00;}
        .btnOrange {border-color: #f94; background-color: #f94;}
        .btnOrange:hover, .btnOrange:focus, .btnOrange:active {border-color: #f72; background-color: #f72;}      
        .btnGray {border-color: #aaa; background-color: #aaa;}
        .btnGray:hover, .btnGray:focus, .btnGray:active {border-color: #777; background-color: #777;}
        input, textarea {background-color: #fff; color: #555; box-sizing: border-box;}
        input:hover, textarea:hover { border-color: #17f; background-color: #eef;}
        input:focus, input:active, textarea:focus, textarea:active {
            border-color: #17f; background-color: #17f; color: #fff; caret-color: #fff;}
        :-ms-input-placeholder  {color: #8af;}
        ::-ms-input-placeholder {color: #8af;}
        ::placeholder {color: #8af; opacity: 1;}
        textarea {resize: none;}
        textarea::-webkit-scrollbar {width: 15px; border-radius: 10px; background: transparent; }
        textarea::-webkit-scrollbar-track {background: white; border-radius: 10px; }
        textarea::-webkit-scrollbar-thumb {background: orange; border-radius: 10px; }
        -->
    </style>

    <script src="./wasm_exec.js"></script>
    <script>
        <!--
        const go = new Go();
        WebAssembly.instantiateStreaming(fetch("./gon_enc.wasm"), go.importObject).then((result) => {
            go.run(result.instance);
        });
        -->
    </script>
</head>
<body>
    <header>
        <svg id="DSYiM" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100" 
            height="50px" width="50px" fill="#eee" stroke="#333" stroke-width="4px">
            <title>DSYiM</title>
            <g id="Base" fill="inherit" stroke="inherit" stroke-width="inherit">
                <path id="Map" d="M30,3C36,3 43,3 50,10C50,10 57,3 64,3H97V30C97,37 97,43 90,50C90,50 97,57 97,64V97H70C64,97 57,97 50,90C50,90 43,97 37,97H3V70C3,64 3,57 10,50C10,50 3,43 3,37V3H30"/>
                <circle id="Shield" cx="50" cy="50" r="30"/>
                <path id="Yi" d="M30,50H70 M43,37V63 M57,37V63"/>
            </g>
        </svg>    
    </header>

    <section>
        <h2>Encryption</h2>
        <p>
            <textarea id="data" rows="5" style="width:80rem;max-width:100%;" placeholder="encrypted or plain" 
                autocomplete="one-time-code" autofocus></textarea> 
            <input type="password" id="key" style="width:80rem;max-width:100%;" placeholder="key" 
                autocomplete="one-time-code"/>
        </p>
        <p>
            <button id="btnEnc">Encrypt</button>
            <button id="btnDec">Decrypt</button>
        </p>
    </section>

    <script>
        <!--
        var boxKey = document.getElementById('key');
        var boxData = document.getElementById('data');
        var btnEnc = document.getElementById('btnEnc');
        var btnDec = document.getElementById('btnDec');

        // When the encrypt button is clicked
        btnEnc.addEventListener('click', function () {
            var out = gonEnc(boxData.value, boxKey.value);
            // console.info("- Encr: [" + out + "]");
            boxData.value = out;
            boxData.select();
        });

        // When the decrypt button is clicked
        btnDec.addEventListener('click', function () {
            var out = gonDec(boxData.value.replace(/[\n\s]+/ig,""), boxKey.value);
            // console.info("- Decr: [" + out + "]");
            boxData.value = out;
            boxData.select();
        });
        boxData.select();
        -->
    </script>

    <footer>&copy; Gonn 2022</footer>
</body></html>
